<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Header section with animated text -->
  <div class="header">
    <h1 class="typing-text" data-text="Magic MCQ"></h1>
  </div>

  <!-- Button container with two buttons -->
  <div class="button-container">
    <!-- Link to HSC MCQ test page -->
    <a href="subject.html" class="button button-hsc" onclick="startServer()">
      <span class="typing-text" data-text="HSC"></span>
      <span class="small-text typing-text" data-text="MCQ test"></span>
    </a>
  </div>

  <!-- Footer section -->
  <div class="footer">
    <span class="typing-text" data-text="Powered by Nakib Hassan Prince"></span>
  </div>

  <!-- Boxes section moved to the bottom -->
  <div class="boxes">
    <div class="box-hsc"></div>
  </div>

  <script>
    // Typing speed controller
    const typingSpeed = 40;

    function typeText(element, text, speed, callback) {
      let i = 0;
      function typing() {
        if (i < text.length) {
          element.textContent += text.charAt(i);
          i++;
          setTimeout(typing, speed);
        } else {
          if (typeof callback === 'function') callback();
        }
      }
      typing();
    }

    document.addEventListener("DOMContentLoaded", function() {
      const typingElements = document.querySelectorAll(".typing-text");
      let delay = 0;

      typingElements.forEach((el, index) => {
        const text = el.getAttribute("data-text");
        el.textContent = '';
        setTimeout(() => {
          typeText(el, text, typingSpeed, () => {
            if (el.parentElement.classList.contains('button')) {
              el.parentElement.style.opacity = '1';
            }
            showBox(text);
          });
        }, delay);
        delay += text.length * typingSpeed + 500;
      });
    });

    function showBox(text) {
      const boxes = document.querySelectorAll('.boxes > div');
      boxes.forEach(box => {
        if (box.classList.contains(`box-${text.toLowerCase()}`)) {
          box.classList.add('active');
        } else {
          box.classList.remove('active');
        }
      });
    }

    function startServer() {
      fetch('http://localhost:8080/start-server', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
      })
      .then(response => response.text())
      .then(data => {
        console.log('Server response:', data);
        alert('Server started successfully!');
      })
      .catch((error) => {
        console.error('Error:', error);
        alert('Failed to start server. Check console for details.');
      });
    }
  </script>
</body>
</html>
